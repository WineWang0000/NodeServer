<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>用ing发请求</title>
</head>
<body>
	<h5>您账户余额为：<span id=amount>&&&amount&&&</span></h5>
	<button id=button>付款</button>
	<script>
	  button.addEventListener('click', (e)=>{
			let image = document.createElement('img')
			image.src= '/pay'
			image.onload = function(){
				alert('付款成功')
				amount.innerText = amount.innerText - 1 //成功之后数值减一，优化体验无需刷新。
			}
			image.onerror = function(){
				alert('付款失败啦')
			}
		})
	</script>
</body>
</html>